global:
  nameOverride: bind9

image: docker.io/ubuntu/bind9
tag: 9.18-22.04_beta
pullPolicy: IfNotPresent

env:
  TZ: America/New_York

service:
  main:
    enabled: true
    type: LoadBalancer
    externalTrafficPolicy: Local
    annotations:
      metallb.universe.tf/loadBalancerIPs: 10.4.240.5
    ports:
      dns-tcp:
        enabled: true
        protocol: TCP
        port: 53
        targetPort: 53
      dns-udp:
        enabled: true
        protocol: UDP
        port: 53
        targetPort: 53

ingress:
  main:
    enabled: false

persistence:
  config:
    enabled: "true"
    mountPath: "/etc/bind"
    subPath: "bind"
    name: bind9-config
    type: "configMap"
    volumeSpec:
      configMap: bind9-config
