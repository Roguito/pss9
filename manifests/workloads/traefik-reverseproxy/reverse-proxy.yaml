---
# Referencing code from this blog post:
# https://blog.eleven-labs.com/en/using-traefik-as-a-reverse-proxy/
apiVersion: v1
kind: ConfigMap
metadata:
  name: traefik-reverseproxy
  namespace: kube-system
  labels:
    app.kubernetes.io/instance: traefik
data:
  reverseproxy.conf: |
    [http]
      [http.middlewares]
        [http.middlewares.http-https-redirectscheme.redirectScheme]
          scheme = "https"
          permanent = true
      [http.services]
        [http.services.proxmox]
          [http.services.proxmox.loadBalancer]
            [[http.services.proxmox.loadBalancer.servers]]
              url = "https://10.45.0.10:8006/"
        [http.services.wikijs]
          [http.services.wikijs.loadBalancer]
            [[http.services.wikijs.loadBalancer.servers]]
              url = "http://10.45.0.32:80/"
        [http.services.kumauptime]
          [http.services.kumauptime.loadBalancer]
            [[http.services.kumauptime.loadBalancer.servers]]
              url = "http://10.45.0.24:80/"
